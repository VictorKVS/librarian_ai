

# 📁 librarian_ai — структура проекта (Windows)

librarian_ai/
├── README.md                    # ✅ 📘 Главная документация проекта, цели, установка, примеры использования
├── alembic.ini                  # ⏳ ⚙️ Конфигурация Alembic (путь к env.py, URL базы данных)
├── api/                         # 🔧 🌐 API-интерфейсы
│   └── documents.py             # ✅ Эндпоинты для работы с документами (FastAPI)
├── cli/                         # 🔧 🖥️ CLI-интерфейс
│   └── [будет добавлено]        # ❌ Поддержка команд: ingest, reset, migrate, search
│
├── core/                        # 🔧 🧩 Ядро обработки
│   ├── tasks/                   # ✅ Фоновые задачи
│   │   └── async_tasks.py       # ✅ Celery задачи для обработки и индексации
│   ├── text_processing/         # ✅ Обработка текста
│   │   └── chunker.py           # ✅ Логика чанкинга текста и генерации эмбеддингов
│   └── tools/                   # ❌ Утилиты и вспомогательные функции (будет добавлено)
│
├── db/                          # ✅ 🗃️ Работа с базой данных и моделями
│   ├── alembic/                 # ⏳ Alembic: управление миграциями
│   │   ├── env.py               # ⏳ Скрипт Alembic, связывает metadata и URL
│   │   ├── script.py.mako       # ⏳ Шаблон генерации миграций
│   │   └── versions/            # ⏳ Каталог автосгенерированных миграций
│   ├── __init__.py              # ✅ Инициализация пакета db
│   ├── create_tables.py         # ✅ Скрипт для создания всех таблиц из моделей вручную
│   ├── models.py                # ✅ SQLAlchemy ORM-модели: документы, чанки, сущности и связи
│   ├── schemas.py               # ✅ Pydantic-схемы для валидации данных (Document, Chunk, Entity, Graph)
│   ├── session.py               # ✅ Асинхронное подключение к БД через SQLAlchemy
│   └── storage.py               # ✅ Унифицированный интерфейс к FAISS, pgvector и гибридному хранилищу
│
├── docs/                        # ✅ 📚 Документация и план развития
│   └── roadmap.md               # ✅ План развития проекта по этапам
│
├── examples/                    # ⏳ Примеры запуска, использования и демонстрации
│
├── inference/                   # ⏳ Инференс моделей, генерация, поиск ответов и т.п.
│
├── ingest/                      # ✅ 📥 Модули загрузки и первичной обработки
│   ├── chunker.py               # ✅ Деление текста на семантические чанки
│   ├── loader.py                # ✅ Загрузка документов из файлов, папок, URL, API
│   ├── parser.py                # ✅ Универсальный парсер текстов (PDF, DOCX, HTML, Markdown и т.п.)
│   ├── async_tasks.py           # ⏳ Фоновые задачи обработки (Celery)
│   └── ingest_and_index.py      # ⏳ Скрипт запуска всего пайплайна загрузки и индексации
│
├── processing/                  # 🔧 🧠 Модули смысловой обработки
│   └── [будет добавлено]        # ❌ Извлечение сущностей (NER), построение графа знаний, связи
│
├── scripts/                     # 🔧 🛠️ Скрипты администрирования и интеграции
│   └── ingest_and_index.py      # ✅ Ручной запуск пайплайна загрузки и индексации
│
├── storage/                     # 🔧 🔎 Слои векторных хранилищ
│   ├── faiss_index.py           # ⏳ FAISS backend: хранение и поиск векторов локально
│   ├── pgvector_store.py        # ⏳ PostgreSQL + pgvector backend: хранение в БД
│   └── [будет добавлено]        # ⏳ Расширения, кэширование, облачные backend-и
│
├── tests/                       # 🔧 ✅ Модульные и интеграционные тесты
│   └── [будет добавлено]        # ⏳ Pytest тесты для моделей, парсинга, хранилищ и API
│
├── utils/                       # ✅ 🔧 Вспомогательные модули и конфигурация
│   ├── config.py                # ⏳ Pydantic-настройки проекта: пути, API ключи, базы, переменные
│   └── logging.py               # ⏳ Инициализация и настройка логгера (формат, уровни, вывод)

# Дополнительно (опционально):
# ├── requirements.txt           # ⏳ Зависимости проекта
# ├── .env                       # ⏳ Переменные окружения (не добавлять в git!)
# └── Dockerfile / docker-compose.yml  # ⏳ Контейнеризация и деплой




librarian_ai/
├── README.md                    # 📘 Главная документация проекта, цели, установка, примеры использования
├── alembic.ini                  # ⚙️ Конфигурация Alembic (путь к env.py, URL базы данных)
│
├── db/                         # 🗃️ Работа с базой данных и моделями
│   ├── __init__.py              # Инициализация пакета db
│   ├── create_tables.py         # Скрипт для создания всех таблиц из моделей вручную
│   ├── models.py                # SQLAlchemy ORM-модели: документы, чанки, сущности и связи
│   ├── schemas.py               # Pydantic-схемы для валидации данных (Document, Chunk, Entity, Graph)
│   ├── session.py               # Асинхронное подключение к БД через SQLAlchemy
│   ├── storage.py               # Унифицированный интерфейс к FAISS, pgvector и гибридному хранилищу
│   └── alembic/                # Alembic: управление миграциями
│       ├── env.py               # Скрипт Alembic, связывает metadata и URL
│       ├── script.py.mako       # Шаблон генерации миграций
│       └── versions/            # Каталог автосгенерированных миграций
│
├── ingest/                     # 📥 Модули загрузки и первичной обработки
│   ├── loader.py               # Загрузка документов из файлов, папок, URL, API
│   ├── parser.py               # Универсальный парсер текстов (PDF, DOCX, HTML, Markdown и т.п.)
│   ├── chunker.py              # Деление текста на семантические чанки
│   ├── async_tasks.py          # Фоновые задачи обработки (Celery)
│   └── ingest_and_index.py     # Скрипт запуска всего пайплайна загрузки и индексации
│
├── processing/                 # 🧠 Модули смысловой обработки
│   └── [будет добавлено]       # Извлечение сущностей (NER), построение графа знаний, связи
│
├── storage/                    # 🔎 Слои векторных хранилищ
│   ├── faiss_index.py          # FAISS backend: хранение и поиск векторов локально
│   ├── pgvector_store.py       # PostgreSQL + pgvector backend: хранение в БД
│   └── [будет добавлено]       # Расширения, кэширование, облачные backend-и
│
├── scripts/                    # 🛠️ Скрипты администрирования и интеграции
│   └── [будет добавлено]       # Очистка, миграции, тестовые загрузки
│
├── cli/                        # 🖥️ CLI-интерфейс
│   └── [будет добавлено]       # Поддержка команд: ingest, reset, migrate, search
│
├── api/                        # 🌐 API-интерфейсы
│   └── [будет добавлено]       # FastAPI endpoints, Telegram API, REST для бэкенда
│
├── tests/                      # ✅ Модульные и интеграционные тесты
│   └── [будет добавлено]       # Pytest тесты для моделей, парсинга, хранилищ и API
│
├── utils/                      # 🔧 Вспомогательные модули и конфигурация
│   ├── config.py               # Pydantic-настройки проекта: пути, API ключи, базы, переменные
│   └── logging.py              # Инициализация и настройка логгера (формат, уровни, вывод)

# Дополнительно (опционально):
# ├── requirements.txt          # Зависимости проекта
# ├── .env                      # Переменные окружения (не добавлять в git!)
# └── Dockerfile / docker-compose.yml  # Контейнеризация и деплой
